---
const { compact = false } = Astro.props;
---
<form
  action="https://buttondown.com/api/emails/embed-subscribe/datumint"
  method="post"
  target="popupwindow"
  onsubmit="window.open('https://buttondown.email/datumint', 'popupwindow')"
  class="newsletter"
>
  <label for="bd-email" class="visually-hidden">Email address</label>
  <input
    id="bd-email"
    type="email"
    name="email"
    required
    placeholder="you@company.com"
  />
  <button type="submit">{compact ? "Subscribe" : "Get insights"}</button>
  <style>
    .newsletter {
      display:flex;
      flex-wrap:wrap;
      gap:.5rem;
    }
    .newsletter input {
      flex:1;
      min-width:200px;
      background:#ffffff10;
      border:1px solid #ffffff33;
      border-radius:12px;
      padding:.6rem .75rem;
      color:white;
      font-size:.9rem;
    }
    .newsletter button {
      background: var(--accent);
      color:#000;
      border:0;
      border-radius:12px;
      padding:.6rem .9rem;
      font-weight:600;
      font-size:.9rem;
      cursor:pointer;
    }
  </style>
</form>
