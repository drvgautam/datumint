---
import { type CollectionEntry, getCollection } from "astro:content";
import BaseLayout from "../../layouts/BaseLayout.astro";
import ArticleTopLayout from "../../layouts/ArticleTopLayout.astro";
import ArticleBottomLayout from "../../layouts/ArticleBottomLayout.astro";

export async function getStaticPaths() {
  const posts = await getCollection("notes");
  return posts.map((post) => ({
    params: { slug: post.slug },
    props: { entry: post },
  }));
}

type Props = {
  entry: CollectionEntry<"notes">;
}

const { entry } = Astro.props;
const { title, summary } = entry.data;
---

<BaseLayout title={`${title} â€” DatumInt`} description={summary}>
  <section class="section">
    <div class="wrap">
      <ArticleTopLayout entry={entry} collection="blog" />
    </div>
  </section>
  
  <section class="section">
    <div class="wrap">
      <ArticleBottomLayout entry={entry} collection="notes" />
    </div>
  </section>
</BaseLayout>

